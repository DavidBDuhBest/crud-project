{"version":3,"sources":["wrapNativeSuper.js"],"names":["getPrototypeOf","setPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","TypeError","has","get","set","Wrapper","arguments","constructor","prototype","Object","create","value","enumerable","writable","configurable"],"mappings":";;;;AAAA,WAAOA,cAAP,MAA2B,qBAA3B;AACA,WAAOC,cAAP,MAA2B,qBAA3B;AACA,WAAOC,gBAAP,MAA6B,uBAA7B;AACA,WAAOC,SAAP,MAAsB,gBAAtB;AACA,mBAAe,SAASC,gBAAT,CAA0BC,KAA1B,EAAiC;AAC9C,UAAIC,SAAS,OAAOC,GAAP,KAAe,UAAf,GAA4B,IAAIA,GAAJ,EAA5B,GAAwCC,SAArD;;AAEAJ,yBAAmB,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AAClD,YAAIA,UAAU,IAAV,IAAkB,CAACH,iBAAiBG,KAAjB,CAAvB,EAAgD,OAAOA,KAAP;;AAEhD,YAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;AAC/B,gBAAM,IAAII,SAAJ,CAAc,oDAAd,CAAN;AACD;;AAED,YAAI,OAAOH,MAAP,KAAkB,WAAtB,EAAmC;AACjC,cAAIA,OAAOI,GAAP,CAAWL,KAAX,CAAJ,EAAuB,OAAOC,OAAOK,GAAP,CAAWN,KAAX,CAAP;;AAEvBC,iBAAOM,GAAP,CAAWP,KAAX,EAAkBQ,OAAlB;AACD;;AAED,iBAASA,OAAT,GAAmB;AACjB,iBAAOV,UAAUE,KAAV,EAAiBS,SAAjB,EAA4Bd,eAAe,IAAf,EAAqBe,WAAjD,CAAP;AACD;;AAEDF,gBAAQG,SAAR,GAAoBC,OAAOC,MAAP,CAAcb,MAAMW,SAApB,EAA+B;AACjDD,uBAAa;AACXI,mBAAON,OADI;AAEXO,wBAAY,KAFD;AAGXC,sBAAU,IAHC;AAIXC,0BAAc;AAJH;AADoC,SAA/B,CAApB;AAQA,eAAOrB,eAAeY,OAAf,EAAwBR,KAAxB,CAAP;AACD,OA1BD;;AA4BA,aAAOD,iBAAiBC,KAAjB,CAAP;AACD","file":"wrapNativeSuper.js","sourcesContent":["import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}"]}