{"version":3,"sources":["../../../virtual-core/build/esm/index.js","../../src/index.tsx"],"names":["useIsomorphicLayoutEffect","React","rerender","resolvedOptions","onChange","options","instance","useVirtualizerBase","observeElementRect","observeElementOffset","scrollToFn","getScrollElement"],"mappings":"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","sourcesContent":["/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar props = [\"bottom\", \"height\", \"left\", \"right\", \"top\", \"width\"];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nfunction memo(getDeps, fn, opts) {\n  let deps = [];\n  let result;\n  return () => {\n    let depTime;\n    if (opts.key && opts.debug != null && opts.debug()) depTime = Date.now();\n    const newDeps = getDeps();\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n\n    if (!depsChanged) {\n      return result;\n    }\n\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && opts.debug != null && opts.debug()) resultTime = Date.now();\n    result = fn(...newDeps);\n    opts == null ? void 0 : opts.onChange == null ? void 0 : opts.onChange(result);\n\n    if (opts.key && opts.debug != null && opts.debug()) {\n      const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      const resultFpsPercentage = resultEndTime / 16;\n\n      const pad = (str, num) => {\n        str = String(str);\n\n        while (str.length < num) {\n          str = ' ' + str;\n        }\n\n        return str;\n      };\n\n      console.info(\"%c\\u23F1 \" + pad(resultEndTime, 5) + \" /\" + pad(depEndTime, 5) + \" ms\", \"\\n            font-size: .6rem;\\n            font-weight: bold;\\n            color: hsl(\" + Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120)) + \"deg 100% 31%);\", opts == null ? void 0 : opts.key);\n    }\n\n    return result;\n  };\n}\n\n//\nconst defaultKeyExtractor = index => index;\nconst defaultRangeExtractor = range => {\n  const start = Math.max(range.startIndex - range.overscan, 0);\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  const arr = [];\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\n\nconst memoRectCallback = (instance, cb) => {\n  let prev = {\n    height: -1,\n    width: -1\n  };\n  return rect => {\n    if (instance.options.horizontal ? rect.width !== prev.width : rect.height !== prev.height) {\n      cb(rect);\n    }\n\n    prev = rect;\n  };\n};\n\nconst observeElementRect = (instance, cb) => {\n  const onResize = memoRectCallback(instance, cb);\n  const observer = observeRect(instance.scrollElement, rect => {\n    onResize(rect);\n  });\n\n  if (!instance.scrollElement) {\n    return;\n  }\n\n  onResize(instance.scrollElement.getBoundingClientRect());\n  observer.observe();\n  return () => {\n    observer.unobserve();\n  };\n};\nconst observeWindowRect = (instance, cb) => {\n  const memoizedCallback = memoRectCallback(instance, cb);\n\n  const onResize = () => memoizedCallback({\n    width: instance.scrollElement.innerWidth,\n    height: instance.scrollElement.innerHeight\n  });\n\n  if (!instance.scrollElement) {\n    return;\n  }\n\n  onResize();\n  instance.scrollElement.addEventListener('resize', onResize, {\n    capture: false,\n    passive: true\n  });\n  return () => {\n    instance.scrollElement.removeEventListener('resize', onResize);\n  };\n};\nconst scrollProps = {\n  element: ['scrollLeft', 'scrollTop'],\n  window: ['scrollX', 'scrollY']\n};\n\nconst createOffsetObserver = mode => {\n  return (instance, cb) => {\n    if (!instance.scrollElement) {\n      return;\n    }\n\n    const propX = scrollProps[mode][0];\n    const propY = scrollProps[mode][1];\n    let prevX = instance.scrollElement[propX];\n    let prevY = instance.scrollElement[propY];\n\n    const scroll = () => {\n      cb(instance.scrollElement[instance.options.horizontal ? propX : propY]);\n    };\n\n    scroll();\n\n    const onScroll = e => {\n      const target = e.currentTarget;\n      const scrollX = target[propX];\n      const scrollY = target[propY];\n\n      if (instance.options.horizontal ? prevX - scrollX : prevY - scrollY) {\n        scroll();\n      }\n\n      prevX = scrollX;\n      prevY = scrollY;\n    };\n\n    instance.scrollElement.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return () => {\n      instance.scrollElement.removeEventListener('scroll', onScroll);\n    };\n  };\n};\n\nconst observeElementOffset = createOffsetObserver('element');\nconst observeWindowOffset = createOffsetObserver('window');\nconst measureElement = (element, instance) => {\n  return element.getBoundingClientRect()[instance.options.horizontal ? 'width' : 'height'];\n};\nconst windowScroll = (offset, canSmooth, instance) => {\n  var _instance$scrollEleme;\n  (_instance$scrollEleme = instance.scrollElement) == null ? void 0 : _instance$scrollEleme.scrollTo({\n    [instance.options.horizontal ? 'left' : 'top']: offset,\n    behavior: canSmooth ? 'smooth' : undefined\n  });\n};\nconst elementScroll = (offset, canSmooth, instance) => {\n  var _instance$scrollEleme2;\n  (_instance$scrollEleme2 = instance.scrollElement) == null ? void 0 : _instance$scrollEleme2.scrollTo({\n    [instance.options.horizontal ? 'left' : 'top']: offset,\n    behavior: canSmooth ? 'smooth' : undefined\n  });\n};\nclass Virtualizer {\n  constructor(_opts) {\n    var _this = this;\n\n    this.unsubs = [];\n    this.scrollElement = null;\n    this.measurementsCache = [];\n    this.itemMeasurementsCache = {};\n    this.pendingMeasuredCacheIndexes = [];\n    this.measureElementCache = {};\n\n    this.setOptions = opts => {\n      Object.entries(opts).forEach(_ref => {\n        let [key, value] = _ref;\n        if (typeof value === 'undefined') delete opts[key];\n      });\n      this.options = {\n        debug: false,\n        initialOffset: 0,\n        overscan: 1,\n        paddingStart: 0,\n        paddingEnd: 0,\n        scrollPaddingStart: 0,\n        scrollPaddingEnd: 0,\n        horizontal: false,\n        getItemKey: defaultKeyExtractor,\n        rangeExtractor: defaultRangeExtractor,\n        enableSmoothScroll: true,\n        onChange: () => {},\n        measureElement,\n        initialRect: {\n          width: 0,\n          height: 0\n        },\n        ...opts\n      };\n    };\n\n    this.notify = () => {\n      var _this$options$onChang, _this$options;\n\n      (_this$options$onChang = (_this$options = this.options).onChange) == null ? void 0 : _this$options$onChang.call(_this$options, this);\n    };\n\n    this.cleanup = () => {\n      this.unsubs.filter(Boolean).forEach(d => d());\n      this.unsubs = [];\n      this.scrollElement = null;\n    };\n\n    this._didMount = () => {\n      return () => {\n        this.cleanup();\n      };\n    };\n\n    this._willUpdate = () => {\n      const scrollElement = this.options.getScrollElement();\n\n      if (this.scrollElement !== scrollElement) {\n        this.cleanup();\n        this.scrollElement = scrollElement;\n        this.unsubs.push(this.options.observeElementRect(this, rect => {\n          this.scrollRect = rect;\n          this.notify();\n        }));\n        this.unsubs.push(this.options.observeElementOffset(this, offset => {\n          this.scrollOffset = offset;\n          this.notify();\n        }));\n      }\n    };\n\n    this.getSize = () => {\n      return this.scrollRect[this.options.horizontal ? 'width' : 'height'];\n    };\n\n    this.getMeasurements = memo(() => [this.options.count, this.options.paddingStart, this.options.getItemKey, this.itemMeasurementsCache], (count, paddingStart, getItemKey, measurementsCache) => {\n      const min = this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;\n      this.pendingMeasuredCacheIndexes = [];\n      const measurements = this.measurementsCache.slice(0, min);\n\n      for (let i = min; i < count; i++) {\n        const key = getItemKey(i);\n        const measuredSize = measurementsCache[key];\n        const start = measurements[i - 1] ? measurements[i - 1].end : paddingStart;\n        const size = typeof measuredSize === 'number' ? measuredSize : this.options.estimateSize(i);\n        const end = start + size;\n        measurements[i] = {\n          index: i,\n          start,\n          size,\n          end,\n          key\n        };\n      }\n\n      this.measurementsCache = measurements;\n      return measurements;\n    }, {\n      key: process.env.NODE_ENV === 'development' && 'getMeasurements',\n      debug: () => this.options.debug\n    });\n    this.calculateRange = memo(() => [this.getMeasurements(), this.getSize(), this.scrollOffset], (measurements, outerSize, scrollOffset) => {\n      return calculateRange({\n        measurements,\n        outerSize,\n        scrollOffset\n      });\n    }, {\n      key: process.env.NODE_ENV === 'development' && 'calculateRange',\n      debug: () => this.options.debug\n    });\n    this.getIndexes = memo(() => [this.options.rangeExtractor, this.calculateRange(), this.options.overscan, this.options.count], (rangeExtractor, range, overscan, count) => {\n      return rangeExtractor({ ...range,\n        overscan,\n        count: count\n      });\n    }, {\n      key: process.env.NODE_ENV === 'development' && 'getIndexes'\n    });\n    this.getVirtualItems = memo(() => [this.getIndexes(), this.getMeasurements(), this.options.measureElement], (indexes, measurements, measureElement) => {\n      const makeMeasureElement = index => measurableItem => {\n        var _this$itemMeasurement;\n\n        const item = this.measurementsCache[index];\n\n        if (!measurableItem) {\n          return;\n        }\n\n        const measuredItemSize = measureElement(measurableItem, this);\n        const itemSize = (_this$itemMeasurement = this.itemMeasurementsCache[item.key]) != null ? _this$itemMeasurement : item.size;\n\n        if (measuredItemSize !== itemSize) {\n          if (item.start < this.scrollOffset) {\n            if (process.env.NODE_ENV === 'development' && this.options.debug) {\n              console.info('correction', measuredItemSize - itemSize);\n            }\n\n            if (!this.destinationOffset) {\n              this._scrollToOffset(this.scrollOffset + (measuredItemSize - itemSize), false);\n            }\n          }\n\n          this.pendingMeasuredCacheIndexes.push(index);\n          this.itemMeasurementsCache = { ...this.itemMeasurementsCache,\n            [item.key]: measuredItemSize\n          };\n          this.notify();\n        }\n      };\n\n      const virtualItems = [];\n      const currentMeasureElements = {};\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        var _this$measureElementC;\n\n        const i = indexes[k];\n        const measurement = measurements[i];\n        const item = { ...measurement,\n          measureElement: currentMeasureElements[i] = (_this$measureElementC = this.measureElementCache[i]) != null ? _this$measureElementC : makeMeasureElement(i)\n        };\n        virtualItems.push(item);\n      }\n\n      this.measureElementCache = currentMeasureElements;\n      return virtualItems;\n    }, {\n      key: process.env.NODE_ENV === 'development' && 'getIndexes'\n    });\n\n    this.scrollToOffset = function (toOffset, _temp) {\n      let {\n        align\n      } = _temp === void 0 ? {\n        align: 'start'\n      } : _temp;\n\n      const attempt = () => {\n        const offset = _this.scrollOffset;\n\n        const size = _this.getSize();\n\n        if (align === 'auto') {\n          if (toOffset <= offset) {\n            align = 'start';\n          } else if (toOffset >= offset + size) {\n            align = 'end';\n          } else {\n            align = 'start';\n          }\n        }\n\n        if (align === 'start') {\n          _this._scrollToOffset(toOffset, true);\n        } else if (align === 'end') {\n          _this._scrollToOffset(toOffset - size, true);\n        } else if (align === 'center') {\n          _this._scrollToOffset(toOffset - size / 2, true);\n        }\n      };\n\n      attempt();\n      requestAnimationFrame(() => {\n        attempt();\n      });\n    };\n\n    this.scrollToIndex = function (index, _temp2) {\n      let {\n        align,\n        ...rest\n      } = _temp2 === void 0 ? {\n        align: 'auto'\n      } : _temp2;\n\n      const measurements = _this.getMeasurements();\n\n      const offset = _this.scrollOffset;\n\n      const size = _this.getSize();\n\n      const {\n        count\n      } = _this.options;\n      const measurement = measurements[Math.max(0, Math.min(index, count - 1))];\n\n      if (!measurement) {\n        return;\n      }\n\n      if (align === 'auto') {\n        if (measurement.end >= offset + size - _this.options.scrollPaddingEnd) {\n          align = 'end';\n        } else if (measurement.start <= offset + _this.options.scrollPaddingStart) {\n          align = 'start';\n        } else {\n          return;\n        }\n      }\n\n      const toOffset = align === 'end' ? measurement.end + _this.options.scrollPaddingEnd : measurement.start - _this.options.scrollPaddingStart;\n\n      _this.scrollToOffset(toOffset, {\n        align,\n        ...rest\n      });\n    };\n\n    this.getTotalSize = () => {\n      var _this$getMeasurements;\n\n      return (((_this$getMeasurements = this.getMeasurements()[this.options.count - 1]) == null ? void 0 : _this$getMeasurements.end) || this.options.paddingStart) + this.options.paddingEnd;\n    };\n\n    this._scrollToOffset = (offset, canSmooth) => {\n      clearTimeout(this.scrollCheckFrame);\n      this.destinationOffset = offset;\n      this.options.scrollToFn(offset, this.options.enableSmoothScroll && canSmooth, this);\n      let scrollCheckFrame;\n\n      const check = () => {\n        let lastOffset = this.scrollOffset;\n        this.scrollCheckFrame = scrollCheckFrame = setTimeout(() => {\n          if (this.scrollCheckFrame !== scrollCheckFrame) {\n            return;\n          }\n\n          if (this.scrollOffset === lastOffset) {\n            this.destinationOffset = undefined;\n            return;\n          }\n\n          lastOffset = this.scrollOffset;\n          check();\n        }, 100);\n      };\n\n      check();\n    };\n\n    this.measure = () => {\n      this.itemMeasurementsCache = {};\n      this.notify();\n    };\n\n    this.setOptions(_opts);\n    this.scrollRect = this.options.initialRect;\n    this.scrollOffset = this.options.initialOffset;\n  }\n\n}\n\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    const middle = (low + high) / 2 | 0;\n    const currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref2) {\n  let {\n    measurements,\n    outerSize,\n    scrollOffset\n  } = _ref2;\n  const count = measurements.length - 1;\n\n  const getOffset = index => measurements[index].start;\n\n  const startIndex = findNearestBinarySearch(0, count, getOffset, scrollOffset);\n  let endIndex = startIndex;\n\n  while (endIndex < count && measurements[endIndex].end < scrollOffset + outerSize) {\n    endIndex++;\n  }\n\n  return {\n    startIndex,\n    endIndex\n  };\n}\n\nexport { Virtualizer, defaultKeyExtractor, defaultRangeExtractor, elementScroll, measureElement, memo, observeElementOffset, observeElementRect, observeWindowOffset, observeWindowRect, windowScroll };\n//# sourceMappingURL=index.js.map\n","import * as React from 'react'\nimport {\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  PartialKeys,\n  Virtualizer,\n  VirtualizerOptions,\n  windowScroll,\n} from '@tanstack/virtual-core'\nexport * from '@tanstack/virtual-core'\n\n//\n\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nfunction useVirtualizerBase<TScrollElement, TItemElement = unknown>(\n  options: VirtualizerOptions<TScrollElement, TItemElement>,\n): Virtualizer<TScrollElement, TItemElement> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance) => {\n      rerender()\n      options.onChange?.(instance)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  React.useEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<TScrollElement, TItemElement = unknown>(\n  options: PartialKeys<\n    VirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement = unknown>(\n  options: PartialKeys<\n    VirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof window !== 'undefined' ? window : null!),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    ...options,\n  })\n}\n"]}