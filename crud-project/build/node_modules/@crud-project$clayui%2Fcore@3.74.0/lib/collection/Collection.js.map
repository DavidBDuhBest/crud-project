{"version":3,"sources":["Collection.js"],"names":["Object","defineProperty","exports","value","Collection","excludeProps","getKey","_reactVirtual","require","_react","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","index","key","parentKey","String","startsWith","concat","props","items","keys","reduce","previous","has","VirtualDynamicCollection","_ref","_ref$as","as","Container","children","_ref$estimateSize","estimateSize","_estimateSize","exclude","parentRef","publicApi","virtualizer","useVirtualizer","count","getScrollElement","current","createElement","style","height","getTotalSize","position","width","getVirtualItems","map","virtual","_item$id","item","publicItem","child","apply","id","cloneElement","keyValue","ref","node","measureElement","left","top","transform","start","_ref2","ItemContainer","itemContainer","_ref2$virtualize","virtualize","Function","Fragment","_item$id2","Children","isValidElement"],"mappings":"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","file":"Collection.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Collection = Collection;\nexports.excludeProps = excludeProps;\nexports.getKey = getKey;\n\nvar _reactVirtual = require(\"@tanstack/react-virtual\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Helper function to create a unique key for list or tree when defined by\n * developer data or obtained by component in React.\n */\nfunction getKey(index, key, parentKey) {\n  if (key != null && (!String(key).startsWith('.') || String(key).startsWith('.$'))) {\n    return key;\n  }\n\n  return parentKey ? \"\".concat(parentKey, \".\").concat(index) : \"$.\".concat(index);\n}\n/**\n * Helper function for omitting properties of an object, similar to\n * TypeScript's Omit<T, K>.\n */\n\n\nfunction excludeProps(props, items) {\n  return Object.keys(props).reduce(function (previous, key) {\n    if (!items.has(key)) {\n      previous[key] = props[key];\n    }\n\n    return previous;\n  }, {});\n}\n\nfunction VirtualDynamicCollection(_ref) {\n  var _ref$as = _ref.as,\n      Container = _ref$as === void 0 ? 'div' : _ref$as,\n      children = _ref.children,\n      _ref$estimateSize = _ref.estimateSize,\n      _estimateSize = _ref$estimateSize === void 0 ? 37 : _ref$estimateSize,\n      exclude = _ref.exclude,\n      items = _ref.items,\n      parentKey = _ref.parentKey,\n      parentRef = _ref.parentRef,\n      publicApi = _ref.publicApi;\n\n  var virtualizer = (0, _reactVirtual.useVirtualizer)({\n    count: items.length,\n    estimateSize: function estimateSize() {\n      return _estimateSize;\n    },\n    getScrollElement: function getScrollElement() {\n      return parentRef.current;\n    }\n  });\n  return /*#__PURE__*/_react.default.createElement(Container, {\n    style: {\n      height: virtualizer.getTotalSize(),\n      position: 'relative',\n      width: '100%'\n    }\n  }, virtualizer.getVirtualItems().map(function (virtual) {\n    var _item$id;\n\n    var item = items[virtual.index];\n    var publicItem = exclude ? excludeProps(item, exclude) : item;\n    var child = Array.isArray(publicApi) ? children.apply(void 0, [publicItem].concat(_toConsumableArray(publicApi))) : children(publicItem);\n    var key = getKey(virtual.index, (_item$id = item.id) !== null && _item$id !== void 0 ? _item$id : child.key, parentKey);\n    return /*#__PURE__*/_react.default.cloneElement(child, {\n      key: key,\n      keyValue: key,\n      ref: function ref(node) {\n        virtual.measureElement(node);\n\n        if (typeof child.ref === 'function') {\n          child.ref(node);\n        }\n      },\n      style: {\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        transform: \"translateY(\".concat(virtual.start, \"px)\"),\n        width: '100%'\n      }\n    });\n  }));\n}\n\nfunction Collection(_ref2) {\n  var as = _ref2.as,\n      children = _ref2.children,\n      estimateSize = _ref2.estimateSize,\n      exclude = _ref2.exclude,\n      ItemContainer = _ref2.itemContainer,\n      items = _ref2.items,\n      parentKey = _ref2.parentKey,\n      parentRef = _ref2.parentRef,\n      publicApi = _ref2.publicApi,\n      _ref2$virtualize = _ref2.virtualize,\n      virtualize = _ref2$virtualize === void 0 ? false : _ref2$virtualize;\n\n  if (virtualize && children instanceof Function && items && parentRef) {\n    return /*#__PURE__*/_react.default.createElement(VirtualDynamicCollection, {\n      as: as,\n      estimateSize: estimateSize,\n      items: items,\n      parentKey: parentKey,\n      parentRef: parentRef,\n      publicApi: publicApi\n    }, children);\n  }\n\n  var Container = as !== null && as !== void 0 ? as : _react.default.Fragment;\n  return /*#__PURE__*/_react.default.createElement(Container, null, children instanceof Function && items ? items.map(function (item, index) {\n    var _item$id2;\n\n    var publicItem = exclude ? excludeProps(item, exclude) : item;\n    var child = Array.isArray(publicApi) ? children.apply(void 0, [publicItem].concat(_toConsumableArray(publicApi))) : children(publicItem);\n    var key = getKey(index, (_item$id2 = item.id) !== null && _item$id2 !== void 0 ? _item$id2 : child.key, parentKey);\n\n    if (ItemContainer) {\n      return /*#__PURE__*/_react.default.createElement(ItemContainer, {\n        index: index,\n        item: item,\n        key: key,\n        keyValue: key\n      }, child);\n    }\n\n    return /*#__PURE__*/_react.default.cloneElement(child, {\n      key: key,\n      keyValue: key\n    });\n  }) : _react.default.Children.map(children, function (child, index) {\n    if (! /*#__PURE__*/_react.default.isValidElement(child)) {\n      return null;\n    }\n\n    var key = getKey(index, child.key, parentKey);\n\n    if (ItemContainer) {\n      return /*#__PURE__*/_react.default.createElement(ItemContainer, {\n        index: index,\n        key: key,\n        keyValue: key\n      }, child);\n    }\n\n    return /*#__PURE__*/_react.default.cloneElement(child, {\n      key: key,\n      keyValue: key\n    });\n  }));\n}"]}