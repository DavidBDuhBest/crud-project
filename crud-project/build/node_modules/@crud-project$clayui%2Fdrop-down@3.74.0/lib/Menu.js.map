{"version":3,"sources":["Menu.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","Align","_shared","require","_classnames","_interopRequireDefault","_react","_interopRequireWildcard","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_defineProperty","enumerable","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","BottomCenter","BottomLeft","BottomRight","LeftBottom","LeftCenter","LeftTop","RightBottom","RightCenter","RightTop","TopCenter","TopLeft","TopRight","ALIGN_INVERSE","ALIGN_MAP","getAlignPoints","val","BOTTOM_OFFSET","LEFT_OFFSET","RIGHT_OFFSET","TOP_OFFSET","OFFSET_MAP","bctc","blbr","bltl","brbl","brtr","clcr","crcl","tcbc","tlbl","tltr","trbr","trtl","useIsomorphicLayoutEffect","window","useEffect","useLayoutEffect","ClayDropDownMenu","forwardRef","_ref","ref","_classNames","active","alignElementRef","_ref$alignmentByViewp","alignmentByViewport","_ref$alignmentPositio","alignmentPosition","_ref$autoBestAlign","autoBestAlign","children","className","_ref$closeOnClickOuts","closeOnClickOutside","_ref$containerProps","containerProps","hasLeftSymbols","hasRightSymbols","height","focusRefOnEsc","_ref$offsetFn","offsetFn","points","join","onActiveChange","onSetActive","width","otherProps","setActive","subPortalRef","useRef","handleClick","event","nodeRefs","nodes","Array","isArray","filter","current","map","Node","find","element","contains","addEventListener","removeEventListener","handleEsc","Keys","Esc","stopImmediatePropagation","focus","document","align","_points","doAlign","offset","overflow","adjustX","adjustY","alwaysByViewport","sourceElement","targetElement","unobserve","observeRect","createElement","ClayPortal","concat","role","displayName","_default"],"mappings":"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","file":"Menu.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Align = void 0;\n\nvar _shared = require(\"@clayui/shared\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _excluded = [\"active\", \"alignElementRef\", \"alignmentByViewport\", \"alignmentPosition\", \"autoBestAlign\", \"children\", \"className\", \"closeOnClickOutside\", \"containerProps\", \"hasLeftSymbols\", \"hasRightSymbols\", \"height\", \"focusRefOnEsc\", \"offsetFn\", \"onActiveChange\", \"onSetActive\", \"width\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar Align = {\n  BottomCenter: 4,\n  BottomLeft: 5,\n  BottomRight: 3,\n  LeftBottom: 11,\n  LeftCenter: 6,\n  LeftTop: 10,\n  RightBottom: 9,\n  RightCenter: 2,\n  RightTop: 8,\n  TopCenter: 0,\n  TopLeft: 7,\n  TopRight: 1\n};\nexports.Align = Align;\nvar ALIGN_INVERSE = {\n  0: 'TopCenter',\n  1: 'TopRight',\n  2: 'RightCenter',\n  3: 'BottomRight',\n  4: 'BottomCenter',\n  5: 'BottomLeft',\n  6: 'LeftCenter',\n  7: 'TopLeft',\n  8: 'RightTop',\n  9: 'RightBottom',\n  10: 'LeftTop',\n  11: 'LeftBottom'\n};\nvar ALIGN_MAP = {\n  BottomCenter: ['tc', 'bc'],\n  BottomLeft: ['tl', 'bl'],\n  BottomRight: ['tr', 'br'],\n  LeftBottom: ['br', 'bl'],\n  LeftCenter: ['cr', 'cl'],\n  LeftTop: ['tr', 'tl'],\n  RightBottom: ['bl', 'br'],\n  RightCenter: ['cl', 'cr'],\n  RightTop: ['tl', 'tr'],\n  TopCenter: ['bc', 'tc'],\n  TopLeft: ['bl', 'tl'],\n  TopRight: ['br', 'tr']\n};\n\n/**\n * For backwards compatability, we are creating a util here so that `metal-position`\n * number values are used in the same manner and result in the same alignment direction.\n */\nvar getAlignPoints = function getAlignPoints(val) {\n  return ALIGN_MAP[ALIGN_INVERSE[val]];\n};\n\nvar BOTTOM_OFFSET = [0, 4];\nvar LEFT_OFFSET = [-4, 0];\nvar RIGHT_OFFSET = [4, 0];\nvar TOP_OFFSET = [0, -4];\nvar OFFSET_MAP = {\n  bctc: TOP_OFFSET,\n  blbr: RIGHT_OFFSET,\n  bltl: TOP_OFFSET,\n  brbl: LEFT_OFFSET,\n  brtr: TOP_OFFSET,\n  clcr: RIGHT_OFFSET,\n  crcl: LEFT_OFFSET,\n  tcbc: BOTTOM_OFFSET,\n  tlbl: BOTTOM_OFFSET,\n  tltr: RIGHT_OFFSET,\n  trbr: BOTTOM_OFFSET,\n  trtl: LEFT_OFFSET\n};\nvar useIsomorphicLayoutEffect = typeof window === 'undefined' ? _react.useEffect : _react.useLayoutEffect;\n\nvar ClayDropDownMenu = /*#__PURE__*/_react.default.forwardRef(function (_ref, // TS + refs don't always play nicely together, which is why it is casted\n// in so many places below.\n// See https://github.com/microsoft/TypeScript/issues/30748#issuecomment-480197036\nref) {\n  var _classNames;\n\n  var active = _ref.active,\n      alignElementRef = _ref.alignElementRef,\n      _ref$alignmentByViewp = _ref.alignmentByViewport,\n      alignmentByViewport = _ref$alignmentByViewp === void 0 ? false : _ref$alignmentByViewp,\n      _ref$alignmentPositio = _ref.alignmentPosition,\n      alignmentPosition = _ref$alignmentPositio === void 0 ? Align.BottomLeft : _ref$alignmentPositio,\n      _ref$autoBestAlign = _ref.autoBestAlign,\n      autoBestAlign = _ref$autoBestAlign === void 0 ? true : _ref$autoBestAlign,\n      children = _ref.children,\n      className = _ref.className,\n      _ref$closeOnClickOuts = _ref.closeOnClickOutside,\n      closeOnClickOutside = _ref$closeOnClickOuts === void 0 ? true : _ref$closeOnClickOuts,\n      _ref$containerProps = _ref.containerProps,\n      containerProps = _ref$containerProps === void 0 ? {} : _ref$containerProps,\n      hasLeftSymbols = _ref.hasLeftSymbols,\n      hasRightSymbols = _ref.hasRightSymbols,\n      height = _ref.height,\n      focusRefOnEsc = _ref.focusRefOnEsc,\n      _ref$offsetFn = _ref.offsetFn,\n      offsetFn = _ref$offsetFn === void 0 ? function (points) {\n    return OFFSET_MAP[points.join('')];\n  } : _ref$offsetFn,\n      onActiveChange = _ref.onActiveChange,\n      onSetActive = _ref.onSetActive,\n      width = _ref.width,\n      otherProps = _objectWithoutProperties(_ref, _excluded);\n\n  var setActive = onActiveChange !== null && onActiveChange !== void 0 ? onActiveChange : onSetActive;\n  var subPortalRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    if (closeOnClickOutside) {\n      var handleClick = function handleClick(event) {\n        var nodeRefs = [alignElementRef, subPortalRef];\n        var nodes = (Array.isArray(nodeRefs) ? nodeRefs : [nodeRefs]).filter(function (ref) {\n          return ref.current;\n        }).map(function (ref) {\n          return ref.current;\n        });\n\n        if (active && event.target instanceof Node && !nodes.find(function (element) {\n          return element.contains(event.target);\n        })) {\n          setActive(false);\n        }\n      };\n\n      window.addEventListener('mousedown', handleClick);\n      return function () {\n        window.removeEventListener('mousedown', handleClick);\n      };\n    }\n  }, [active, closeOnClickOutside]);\n  (0, _react.useEffect)(function () {\n    var handleEsc = function handleEsc(event) {\n      if (event.key === _shared.Keys.Esc) {\n        event.stopImmediatePropagation();\n\n        if (focusRefOnEsc && focusRefOnEsc.current) {\n          focusRefOnEsc.current.focus();\n        }\n\n        setActive(false);\n      }\n    };\n\n    if (active) {\n      document.addEventListener('keyup', handleEsc, true);\n    }\n\n    return function () {\n      document.removeEventListener('keyup', handleEsc, true);\n    };\n  }, [active]);\n\n  var align = function align() {\n    if (alignElementRef && alignElementRef.current) {\n      var _points = alignmentPosition;\n\n      if (typeof _points === 'number') {\n        _points = getAlignPoints(_points);\n      }\n\n      if (ref.current) {\n        (0, _shared.doAlign)({\n          offset: offsetFn(_points),\n          overflow: {\n            adjustX: autoBestAlign,\n            adjustY: autoBestAlign,\n            alwaysByViewport: alignmentByViewport\n          },\n          points: _points,\n          sourceElement: ref.current,\n          targetElement: alignElementRef.current\n        });\n      }\n    }\n  };\n\n  useIsomorphicLayoutEffect(function () {\n    if (active) {\n      align();\n    }\n  }, [active, children]);\n  (0, _react.useEffect)(function () {\n    if (alignElementRef && alignElementRef.current) {\n      var unobserve = (0, _shared.observeRect)(alignElementRef.current, align);\n      return unobserve;\n    }\n  }, []);\n  return /*#__PURE__*/_react.default.createElement(_shared.ClayPortal, _extends({}, containerProps, {\n    subPortalRef: subPortalRef\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: subPortalRef\n  }, /*#__PURE__*/_react.default.createElement(\"div\", _extends({}, otherProps, {\n    className: (0, _classnames.default)('dropdown-menu', className, (_classNames = {\n      'dropdown-menu-indicator-end': hasRightSymbols,\n      'dropdown-menu-indicator-start': hasLeftSymbols\n    }, _defineProperty(_classNames, \"dropdown-menu-height-\".concat(height), height), _defineProperty(_classNames, \"dropdown-menu-width-\".concat(width), width), _defineProperty(_classNames, \"show\", active), _classNames)),\n    ref: ref,\n    role: \"presentation\"\n  }), children)));\n});\n\nClayDropDownMenu.displayName = 'ClayDropDownMenu';\nvar _default = ClayDropDownMenu;\nexports.default = _default;"]}