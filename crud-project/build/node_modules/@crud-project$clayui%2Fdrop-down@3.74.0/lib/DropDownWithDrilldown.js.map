{"version":3,"sources":["DropDownWithDrilldown.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","ClayDropDownWithDrilldown","_classnames","_interopRequireDefault","require","_react","_interopRequireWildcard","_DropDown","_drilldown","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Array","from","isArray","_arrayLikeToArray","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","slice","name","test","len","arr2","_i","_arr","_n","_d","_s","_e","next","done","err","_ref","active","alignmentByViewport","alignmentPosition","className","containerElement","defaultActive","defaultActiveMenu","initialActiveMenu","menuElementAttrs","menuHeight","menuWidth","menus","offsetFn","onActiveChange","renderMenuOnClick","spritemap","trigger","_useState","useState","_useState2","activeMenu","setActiveMenu","_useState3","_useState4","direction","setDirection","_useState5","_useState6","history","setHistory","focusHistory","useRef","innerRef","isKeyboard","menuIds","useEffect","current","_focusHistory$current","_focusHistory$current2","previous","focus","itemEl","querySelector","concat","document","activeElement","createElement","hasRightSymbols","Inner","ref","map","menuKey","Menu","header","title","undefined","items","onBack","_history$slice","_history$slice2","parent","id","onForward","childId","onKeyDown","event","displayName"],"mappings":"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","file":"DropDownWithDrilldown.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClayDropDownWithDrilldown = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _DropDown = _interopRequireDefault(require(\"./DropDown\"));\n\nvar _drilldown = _interopRequireDefault(require(\"./drilldown\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar ClayDropDownWithDrilldown = function ClayDropDownWithDrilldown(_ref) {\n  var active = _ref.active,\n      alignmentByViewport = _ref.alignmentByViewport,\n      alignmentPosition = _ref.alignmentPosition,\n      className = _ref.className,\n      containerElement = _ref.containerElement,\n      defaultActive = _ref.defaultActive,\n      defaultActiveMenu = _ref.defaultActiveMenu,\n      initialActiveMenu = _ref.initialActiveMenu,\n      menuElementAttrs = _ref.menuElementAttrs,\n      menuHeight = _ref.menuHeight,\n      menuWidth = _ref.menuWidth,\n      menus = _ref.menus,\n      offsetFn = _ref.offsetFn,\n      onActiveChange = _ref.onActiveChange,\n      renderMenuOnClick = _ref.renderMenuOnClick,\n      spritemap = _ref.spritemap,\n      trigger = _ref.trigger;\n\n  var _useState = (0, _react.useState)(defaultActiveMenu !== null && defaultActiveMenu !== void 0 ? defaultActiveMenu : initialActiveMenu),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeMenu = _useState2[0],\n      setActiveMenu = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      direction = _useState4[0],\n      setDirection = _useState4[1];\n\n  var _useState5 = (0, _react.useState)([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      history = _useState6[0],\n      setHistory = _useState6[1];\n\n  var focusHistory = (0, _react.useRef)([]);\n  var innerRef = (0, _react.useRef)(null);\n  var isKeyboard = (0, _react.useRef)(false);\n  var menuIds = Object.keys(menus);\n  (0, _react.useEffect)(function () {\n    if (!isKeyboard.current) {\n      return;\n    }\n\n    if (innerRef.current) {\n      if (direction === 'prev') {\n        var _focusHistory$current = focusHistory.current.slice(-1),\n            _focusHistory$current2 = _slicedToArray(_focusHistory$current, 1),\n            previous = _focusHistory$current2[0];\n\n        focusHistory.current = focusHistory.current.slice(0, focusHistory.current.length - 1);\n        previous === null || previous === void 0 ? void 0 : previous.focus();\n      } else {\n        var itemEl = innerRef.current.querySelector('.drilldown-current a.dropdown-item, .drilldown-current button.dropdown-item');\n        focusHistory.current = [].concat(_toConsumableArray(focusHistory.current), [document.activeElement]);\n        itemEl === null || itemEl === void 0 ? void 0 : itemEl.focus();\n      }\n    }\n  }, [activeMenu, direction, innerRef, focusHistory, menus]);\n  return /*#__PURE__*/_react.default.createElement(_DropDown.default, {\n    active: active,\n    alignmentByViewport: alignmentByViewport,\n    alignmentPosition: alignmentPosition,\n    className: className,\n    containerElement: containerElement,\n    defaultActive: defaultActive,\n    hasRightSymbols: true,\n    menuElementAttrs: _objectSpread(_objectSpread({}, menuElementAttrs), {}, {\n      className: (0, _classnames.default)(menuElementAttrs === null || menuElementAttrs === void 0 ? void 0 : menuElementAttrs.className, 'drilldown')\n    }),\n    menuHeight: menuHeight,\n    menuWidth: menuWidth,\n    offsetFn: offsetFn,\n    onActiveChange: onActiveChange,\n    renderMenuOnClick: renderMenuOnClick,\n    trigger: trigger\n  }, /*#__PURE__*/_react.default.createElement(_drilldown.default.Inner, {\n    ref: innerRef\n  }, menuIds.map(function (menuKey) {\n    return /*#__PURE__*/_react.default.createElement(_drilldown.default.Menu, {\n      active: activeMenu === menuKey,\n      direction: direction,\n      header: activeMenu === menuKey && !!history.length ? history.slice(-1)[0].title : undefined,\n      items: menus[menuKey],\n      key: menuKey,\n      onBack: function onBack() {\n        var _history$slice = history.slice(-1),\n            _history$slice2 = _slicedToArray(_history$slice, 1),\n            parent = _history$slice2[0];\n\n        setHistory(history.slice(0, history.length - 1));\n        setDirection('prev');\n        setActiveMenu(parent.id);\n      },\n      onForward: function onForward(title, childId) {\n        setHistory([].concat(_toConsumableArray(history), [{\n          id: activeMenu,\n          title: title\n        }]));\n        setDirection('next');\n        setActiveMenu(childId);\n      },\n      onKeyDown: function onKeyDown(event) {\n        if (event.key !== 'Enter') {\n          isKeyboard.current = false;\n        } else {\n          isKeyboard.current = true;\n        }\n      },\n      spritemap: spritemap\n    });\n  })));\n};\n\nexports.ClayDropDownWithDrilldown = ClayDropDownWithDrilldown;\nClayDropDownWithDrilldown.displayName = 'ClayDropDownWithDrilldown';"]}